
<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Vends√áa ‚Äî petites annonces (WhatsApp)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="D√©pose ton annonce, je re√ßois sur WhatsApp et je valide. Simple, rapide, efficace.">
<meta name="theme-color" content="#ff7a00">
<style>
:root{
  --bg:#ffffff; --card:#f8f8f8; --text:#222; --muted:#555;
  --orange:#ff7a00; --orange-2:#ff8f2b; --line:#ddd; --ok:#25d366;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
a{color:var(--text);text-decoration:none}
.container{max-width:980px;margin:0 auto;padding:22px 18px}
.nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 0;border-bottom:1px solid var(--line)}
.logo{font-weight:900;font-size:22px;letter-spacing:.3px}
.badge{background:#f0f0f0;border:1px solid var(--line);color:var(--muted);padding:4px 10px;border-radius:999px;font-size:12px}
.links{display:flex;gap:12px;flex-wrap:wrap}
.links a{padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:#fff}
h1{margin:14px 0 8px;font-size:32px}
p.meta{color:var(--muted);margin:0}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:18px}
.grid{display:grid;gap:14px}
.cols-2{grid-template-columns:1fr 1fr}
.cols-3{grid-template-columns:repeat(3,1fr)}
.btn{background:var(--orange);border:0;color:#2b1a09;font-weight:800;padding:14px 18px;border-radius:12px;cursor:pointer;box-shadow:0 12px 30px #ff7a0033}
.btn:hover{background:var(--orange-2)}
.section{margin:18px 0}
.item{background:#fff;border:1px solid var(--line);border-radius:12px;padding:14px}
.item .title{font-weight:700}
.item .meta{color:var(--muted);font-size:13px;margin:6px 0 10px}
.input,select,textarea{width:100%;background:#fff;color:var(--text);border:1px solid var(--line);border-radius:10px;padding:12px 14px}
label{font-size:14px;color:var(--muted);display:block;margin:6px 0}
.row{display:grid;gap:12px}
@media(min-width:640px){.row{grid-template-columns:1fr 1fr}}
footer{color:var(--muted);font-size:13px;margin:28px 0 8px}
details{background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
summary{cursor:pointer;font-weight:700;color:#a04900}
.fab{position:fixed;right:16px;bottom:16px;width:56px;height:56px;border:0;border-radius:16px;background:var(--ok);color:#04270f;font-weight:900;box-shadow:0 14px 34px #25d36666;cursor:pointer}
.hidden{display:none}
@media(max-width:820px){.cols-2,.cols-3{grid-template-columns:1fr}h1{font-size:26px}}
.tabbar{display:flex;gap:8px;margin:14px 0}
.tab{padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff}
.tab.active{background:var(--orange);color:#2b1a09;border-color:transparent}
</style>
</head>
<body>
<div class="container">

  <!-- NAV -->
  <div class="nav">
    <div style="display:flex;align-items:center;gap:10px">
      <div class="logo">Vends√áa</div>
      <span class="badge">Annonces locales</span>
    </div>
    <div class="links">
      <a href="#" onclick="go('home');return false;">Accueil</a>
      <a href="#" onclick="go('post');return false;">D√©poser</a>
      <a href="#" onclick="go('list');return false;">Annonces</a>
      <a href="#" onclick="go('legal');return false;">Mentions</a>
    </div>
  </div>

  <!-- Onglets -->
  <div class="tabbar">
    <button id="t-home"  class="tab active" onclick="go('home')">Accueil</button>
    <button id="t-post"  class="tab"         onclick="go('post')">D√©poser</button>
    <button id="t-list"  class="tab"         onclick="go('list')">Annonces</button>
    <button id="t-legal" class="tab"         onclick="go('legal')">Mentions</button>
  </div>

  <!-- Accueil -->
  <section id="home" class="section">
    <h1>Simple, rapide, efficace.</h1>
    <p class="meta">D√©pose ton annonce ‚Äî je re√ßois sur WhatsApp et je valide. Tu ajoutes tes photos dans la conversation.</p>
    <div class="grid cols-2" style="margin-top:14px">
      <div class="card">
        <h3 style="margin-top:0">D√©poser une annonce</h3>
        <p class="meta">Renseigne le titre, le prix (FCFA), la ville, une description ‚Äî c‚Äôest pr√™t en 30 secondes.</p>
        <button class="btn" onclick="go('post')">üì≤ D√©poser maintenant</button>
      </div>
      <div class="card">
        <h3 style="margin-top:0">Annonces r√©centes (exemples)</h3>
        <div class="grid cols-3">
          <div class="item">
            <div class="title">Chaussures Nike (neuves)</div>
            <div class="meta">10 000 FCFA ‚Äî Abidjan</div>
            <button class="btn" onclick="wa('Int√©ress√© par: Chaussures Nike neuves')">WhatsApp</button>
          </div>
          <div class="item">
            <div class="title">T√©l√© Samsung 42"</div>
            <div class="meta">60 000 FCFA ‚Äî Treichville</div>
            <button class="btn" onclick="wa('Int√©ress√© par: T√©l√© Samsung 42 pouces')">WhatsApp</button>
          </div>
          <div class="item">
            <div class="title">Service de livraison</div>
            <div class="meta">Partout √† Abidjan</div>
            <button class="btn" onclick="wa('Int√©ress√© par: Service de livraison')">WhatsApp</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- D√©poser -->
  <section id="post" class="section hidden">
    <h1>D√©poser une annonce</h1>
    <div class="card">
      <p class="meta">Apr√®s l‚Äôenvoi, WhatsApp s‚Äôouvre avec le r√©capitulatif. Ajoute tes photos dans la conversation.</p>
      <form id="form" onsubmit="submitAd(event)">
        <label>Titre de l‚Äôannonce</label>
        <input class="input" name="title" placeholder="Ex. iPhone 12 128 Go" required>

        <div class="row">
          <div>
            <label>Prix (FCFA)</label>
            <input class="input" name="price" inputmode="decimal" placeholder="Ex. 15000">
          </div>
          <div>
            <label>Ville</label>
            <input class="input" name="city" placeholder="Ex. Abidjan">
          </div>
        </div>

        <div class="row">
          <div>
            <label>Cat√©gorie</label>
            <select class="input" name="cat">
              <option>√âlectronique</option>
              <option>V√©hicules</option>
              <option>Immobilier</option>
              <option>Maison</option>
              <option>Mode / Beaut√©</option>
              <option>Services</option>
              <option>Autres</option>
            </select>
          </div>
          <div>
            <label>T√©l√©phone vendeur</label>
            <input class="input" name="phone" placeholder="Ex. 07 72 44 24 52">
          </div>
        </div>

        <label>Description</label>
        <textarea class="input" name="desc" rows="5" placeholder="√âtat, accessoires, facture, remise en main propre‚Ä¶"></textarea>

        <div style="margin-top:10px">
          <button class="btn" type="submit">Envoyer sur WhatsApp</button>
        </div>
      </form>
    </div>
  </section>

  <!-- Annonces (local/demo) -->
  <section id="list" class="section hidden">
    <h1>Annonces (d√©mo locale)</h1>
    <div class="card">
      <div class="row">
        <input id="q" class="input" placeholder="Recherche (titre, ville‚Ä¶)">
        <select id="cat" class="input">
          <option value="all">Toutes cat√©gories</option>
          <option>√âlectronique</option><option>V√©hicules</option><option>Immobilier</option>
          <option>Maison</option><option>Mode / Beaut√©</option><option>Services</option><option>Autres</option>
        </select>
      </div>
      <label style="margin-top:8px"><input type="checkbox" id="pendingOnly"> Afficher seulement ‚ÄúEn attente‚Äù</label>
      <div id="listWrap" class="grid" style="margin-top:12px"></div>
    </div>
  </section>

  <!-- Mentions -->
  <section id="legal" class="section hidden">
    <h1>Mentions l√©gales</h1>
    <div class="card">
      <p><b>√âditeur :</b> Vends√áa</p>
      <p><b>Contact :</b> <a href="mailto:hamed.diarra@gmail.com">hamed.diarra@gmail.com</a> ‚Äî WhatsApp : <a href="https://wa.me/33772442452" target="_blank" rel="noopener">+33 7 72 44 24 52</a></p>
      <p><b>H√©bergement :</b> GitHub Pages (ou Hostinger).</p>
      <hr style="border:0;border-top:1px solid var(--line);margin:12px 0">
      <p class="meta">Vends√áa est une plateforme de petites annonces. Les annonces sont publi√©es sous la responsabilit√© de leurs auteurs. Suppression/rectification sur simple demande. Aucune adresse personnelle n‚Äôest publi√©e.</p>
    </div>
  </section>

  <footer>¬© <span id="y"></span> Vends√áa ‚Äî Tous droits r√©serv√©s.</footer>
</div>

<!-- bouton flottant WhatsApp -->
<button class="fab" onclick="wa()">WA</button>

<script>
const ADMIN_WA = "33772442452";
const KEY = "vendca_ads_v1";

function go(id){
  ["home","post","list","legal"].forEach(s=>{
    document.getElementById(s).classList.toggle("hidden", s!==id);
    document.getElementById("t-"+s).classList.toggle("active", s===id);
  });
  if(id==="list") renderList();
  window.scrollTo(0,0);
}

function wa(text=""){ window.open("https://wa.me/"+ADMIN_WA+(text?("?text="+encodeURIComponent(text)):""), "_blank"); }

function submitAd(e){
  e.preventDefault();
  const d = new FormData(e.target);
  const ad = {
    id: Date.now(),
    title: d.get("title").trim(),
    price: d.get("price").trim(),
    city:  d.get("city").trim(),
    cat:   d.get("cat"),
    phone: d.get("phone").trim(),
    desc:  d.get("desc").trim(),
    status:"pending",
    at: new Date().toISOString()
  };

  const ads = load(); ads.unshift(ad); save(ads);

  const msg = [
    "üü† *Vends√áa ‚Äì Nouvelle annonce*",
    "",
    "‚Ä¢ Titre : "+(ad.title||"-"),
    "‚Ä¢ Prix : "+(ad.price? ad.price+" FCFA":"-"),
    "‚Ä¢ Ville : "+(ad.city||"-"),
    "‚Ä¢ Cat√©gorie : "+(ad.cat||"-"),
    "‚Ä¢ Contact vendeur : "+(ad.phone||"-"),
    "",
    "Description :",
    (ad.desc||"-"),
    "",
    "(Photos √† joindre dans WhatsApp)"
  ].join("\n");
  wa(msg);
  e.target.reset();
  alert("Annonce envoy√©e sur WhatsApp üëç");
  go('list');
}

function load(){ try{return JSON.parse(localStorage.getItem(KEY))||[]}catch{return[]} }
function save(v){ localStorage.setItem(KEY, JSON.stringify(v)) }
function fcfa(x){
  if(!x) return "-";
  const n = Number(String(x).replace(/[^\d.,]/g,"").replace(",",".")); 
  return isNaN(n) ? x : n.toLocaleString("fr-FR")+" FCFA";
}
function renderList(){
  const q = (document.getElementById("q").value||"").toLowerCase();
  const cat = document.getElementById("cat").value;
  const only = document.getElementById("pendingOnly").checked;

  let ads = load();
  if(cat!=="all") ads = ads.filter(a=>a.cat===cat);
  if(only) ads = ads.filter(a=>a.status!=="valid");
  if(q) ads = ads.filter(a => (a.title+a.city+a.desc).toLowerCase().includes(q));

  document.getElementById("listWrap").innerHTML = ads.map(a=>`
    <div class="item">
      <div class="title">${a.title}</div>
      <div class="meta"><span class="badge">${a.cat}</span> ‚Ä¢ ${a.city||"-"} ‚Ä¢ ${fcfa(a.price)}</div>
      <div class="meta">Vendeur : ${a.phone||"-"}</div>
      <div>${(a.desc||"").replace(/\n/g,"<br>")}</div>
      <div style="display:flex;gap:10px;align-items:center;margin-top:8px;flex-wrap:wrap">
        <button class="btn" onclick='wa("Je suis int√©ress√©(e) par: ${a.title} ‚Äî ${fcfa(a.price)} ‚Äî ${a.city}")'>Contacter</button>
        <span class="badge">${a.status==="valid"?"Valid√©e":"En attente"}</span>
        <span style="flex:1"></span>
        <button class="badge" onclick="toggle(${a.id})">Basculer statut</button>
        <button class="badge" onclick="removeAd(${a.id})">Supprimer</button>
      </div>
    </div>
  `).join("") || '<div class="meta">Aucune annonce pour le moment.</div>';
}
function toggle(id){ const ads = load(); const i = ads.findIndex(x=>x.id===id); if(i<0)return; ads[i].status = ads[i].status==="valid"?"pending":"valid"; save(ads); renderList(); }
function removeAd(id){ if(!confirm("Supprimer ?")) return; save(load().filter(x=>x.id!==id)); renderList(); }

document.getElementById("y").textContent = new Date().getFullYear();
go((location.hash||"#home").slice(1));
</script>
</body>
</html>
